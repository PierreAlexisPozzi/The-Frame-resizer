<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Resizer pour The Frame</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><text y='.9em' font-size='90'>üñΩ</text></svg>">
    <style>
        :root {
            --spotify-black: #191414;
            --spotify-dark: #1e1e1e;
            --spotify-light-black: #282828;
            --spotify-green: #1DB954;
            --spotify-white: #FFFFFF;
            --spotify-gray: #b3b3b3;
            --spotify-dark-gray: #535353;
            --accent-blue: #2D46B9;
            --accent-purple: #AF2896;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--spotify-black);
            color: var(--spotify-white);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--spotify-dark-gray);
            position: relative;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
        }
        
        /* Language Selector */
        .language-selector {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .language-selector select {
            background-color: var(--spotify-light-black);
            color: var(--spotify-white);
            border: 1px solid var(--spotify-dark-gray);
            border-radius: 4px;
            padding: 8px 12px;
            font-size: 0.9rem;
            cursor: pointer;
            width: 140px;
        }
        
        .language-selector select:focus {
            outline: none;
            border-color: var(--spotify-green);
        }
        
        /* Navigation */
        .main-nav {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .nav-btn {
            background-color: var(--spotify-light-black);
            color: var(--spotify-white);
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s;
            margin: 0 10px;
        }
        
        .nav-btn:hover {
            background-color: var(--spotify-green);
            color: var(--spotify-black);
        }
        
        .nav-btn.active {
            background-color: var(--spotify-green);
            color: var(--spotify-black);
        }
        
        /* Cards Section */
        .cards-section {
            margin-bottom: 20px;
            position: relative;
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: 700;
            text-align: center;
        }
        
        .cards-container-wrapper {
            position: relative;
            overflow: hidden;
        }
        
        .cards-container {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding-bottom: 10px;
            scroll-behavior: smooth;
            scrollbar-width: none; /* Firefox */
        }
        
        .cards-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Edge */
        }
        
        .card {
            background-color: var(--spotify-light-black);
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-width: 250px;
            flex-shrink: 0;
        }
        
        .card.active {
            border: 2px solid var(--spotify-green);
        }
        
        .card.completed::after {
            content: '‚úì';
            position: absolute;
            top: 10px;
            right: 10px;
            width: 25px;
            height: 25px;
            background-color: var(--spotify-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--spotify-black);
        }
        
        .card:hover {
            background-color: #3a3a3a;
            transform: translateY(-5px);
        }
        
        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .upload-icon {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
        }
        
        .dimension-icon {
            background: linear-gradient(135deg, var(--spotify-green), #1ed760);
        }
        
        .preview-icon {
            background: linear-gradient(135deg, #ff9a00, #ff6a00);
        }
        
        .download-icon {
            background: linear-gradient(135deg, #ff375f, #ff2e6c);
        }
        
        .card h3 {
            font-size: 1rem;
            margin-bottom: 8px;
        }
        
        .card p {
            color: var(--spotify-gray);
            font-size: 0.85rem;
        }
        
        /* Navigation arrows for steps */
        .step-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            background-color: rgba(0, 0, 0, 0.5);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s;
            opacity: 0.7;
        }
        
        .step-nav:hover {
            opacity: 1;
            background-color: rgba(0, 0, 0, 0.7);
        }
        
        .step-nav.prev {
            left: 5px;
        }
        
        .step-nav.next {
            right: 5px;
        }
        
        .step-nav:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .step-nav:disabled:hover {
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        /* Progress bar - repositionn√©e entre les √©tapes et le contenu */
        .progress-section {
            margin: 25px 0;
            padding: 0 10px;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: var(--spotify-dark-gray);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-blue), var(--spotify-green));
            border-radius: 3px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.8rem;
            color: var(--spotify-gray);
        }
        
        /* Content sections */
        .content-section {
            background: linear-gradient(180deg, #3a3a3a 0%, var(--spotify-dark) 100%);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        /* Upload section */
        .upload-area {
            border: 2px dashed var(--spotify-dark-gray);
            border-radius: 8px;
            padding: 40px 15px;
            text-align: center;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            border-color: var(--spotify-green);
            background-color: rgba(29, 185, 84, 0.05);
        }
        
        .upload-area i {
            font-size: 2.5rem;
            color: var(--spotify-green);
            margin-bottom: 10px;
        }
        
        .upload-area p {
            font-size: 0.9rem;
        }
        
        /* Selected files */
        .selected-files {
            margin-top: 15px;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: var(--spotify-light-black);
            border-radius: 4px;
            margin-bottom: 8px;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
            overflow: hidden;
        }
        
        .file-name {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }
        
        .file-icon {
            color: var(--spotify-green);
        }
        
        .remove-file {
            background: none;
            border: none;
            color: var(--spotify-gray);
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .remove-file:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--spotify-white);
        }
        
        /* Dimension selector */
        .dimension-selector {
            margin-top: 20px;
        }
        
        .dimension-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .dimension-option {
            background-color: var(--spotify-light-black);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .dimension-option:hover {
            transform: translateY(-3px);
            background-color: #3a3a3a;
        }
        
        .dimension-option.active {
            border-color: var(--spotify-green);
            background-color: rgba(29, 185, 84, 0.1);
        }
        
        .dimension-name {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .dimension-size {
            font-size: 0.8rem;
            color: var(--spotify-gray);
        }
        
        .custom-dimension {
            margin-top: 15px;
            display: none;
        }
        
        .custom-inputs {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .custom-inputs input {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 4px;
            background-color: var(--spotify-light-black);
            color: var(--spotify-white);
            font-size: 0.9rem;
        }
        
        input::placeholder {
            color: var(--spotify-gray);
        }
        
        button {
            background-color: var(--spotify-green);
            color: var(--spotify-black);
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 700;
            transition: all 0.3s;
            margin-top: 15px;
            width: 100%;
            letter-spacing: 1px;
        }
        
        button:hover {
            background-color: #1ed760;
            transform: scale(1.03);
        }
        
        .download-btn {
            background-color: var(--accent-blue);
            color: white;
        }
        
        .download-btn:hover {
            background-color: #3a5bd9;
        }
        
        /* Preview section */
        .preview-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 250px;
            background-color: var(--spotify-black);
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
            position: relative;
        }
        
        #previewImage {
            max-width: 100%;
            max-height: 100%;
            display: none;
        }
        
        .preview-info {
            background-color: var(--spotify-light-black);
            padding: 12px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .info-label {
            font-weight: bold;
            color: var(--spotify-gray);
        }
        
        /* Products Section */
        .products-section {
            background: linear-gradient(180deg, #3a3a3a 0%, var(--spotify-dark) 100%);
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .products-title {
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.8rem;
        }
        
        .products-subtitle {
            text-align: center;
            margin-bottom: 30px;
            color: var(--spotify-gray);
            font-size: 1.1rem;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .product-card {
            background-color: var(--spotify-light-black);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
        }
        
        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid var(--spotify-dark-gray);
        }
        
        .product-content {
            padding: 20px;
        }
        
        .product-category {
            color: var(--spotify-green);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
        
        .product-name {
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .product-description {
            color: var(--spotify-gray);
            margin-bottom: 15px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .product-price {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--spotify-green);
        }
        
        .product-link {
            display: block;
            background-color: var(--spotify-green);
            color: var(--spotify-black);
            text-align: center;
            padding: 12px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s;
        }
        
        .product-link:hover {
            background-color: #1ed760;
            transform: scale(1.03);
        }
        
        /* Footer */
        footer {
            background-color: var(--spotify-black);
            padding: 15px 0;
            margin-top: 30px;
            text-align: center;
            color: var(--spotify-gray);
            border-top: 1px solid var(--spotify-dark-gray);
            font-size: 0.8rem;
            position: relative;
        }
        
        .legal-links {
            margin-top: 10px;
        }
        
        .legal-link {
            color: var(--spotify-gray);
            text-decoration: none;
            margin: 0 10px;
            font-size: 0.75rem;
            transition: color 0.3s;
        }
        
        .legal-link:hover {
            color: var(--spotify-green);
            text-decoration: underline;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .modal-content {
            background-color: var(--spotify-dark);
            margin: 5% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--spotify-dark-gray);
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--spotify-white);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--spotify-gray);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .close-modal:hover {
            color: var(--spotify-white);
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .modal-body {
            color: var(--spotify-gray);
            line-height: 1.7;
        }
        
        .modal-section {
            margin-bottom: 25px;
        }
        
        .modal-section h3 {
            color: var(--spotify-white);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .modal-section p {
            margin-bottom: 10px;
        }
        
        .modal-section ul {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .modal-section li {
            margin-bottom: 8px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .language-selector {
                position: static;
                transform: none;
                align-self: flex-end;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .dimension-options {
                grid-template-columns: 1fr;
            }
            
            .custom-inputs {
                flex-direction: column;
            }
            
            .step-nav {
                display: none;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .preview-container {
                height: 200px;
            }
            
            .modal-content {
                margin: 10% auto;
                padding: 20px;
                width: 95%;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .logo h1 {
                font-size: 1.3rem;
            }
            
            .card {
                min-width: 220px;
                padding: 12px;
            }
            
            .main-nav {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-btn {
                margin: 5px 0;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .legal-links {
                display: flex;
                flex-direction: column;
                gap: 5px;
            }
        }
        
        /* Loading animation */
        .loading {
            display: none;
            text-align: center;
            margin: 15px 0;
        }
        
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left-color: var(--spotify-green);
            border-radius: 50%;
            width: 35px;
            height: 35px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
        }
        
        .action-buttons button {
            margin-top: 0;
        }
        
        .restart-btn {
            background-color: var(--spotify-dark-gray);
            color: var(--spotify-white);
        }
        
        .restart-btn:hover {
            background-color: var(--spotify-gray);
        }
        
        /* Hide sections by default */
        .section-hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-tv"></i>
                </div>
                <h1 data-translate="app_title">Image Resizer pour The Frame</h1>
            </div>
            
            <!-- Language Selector -->
            <div class="language-selector">
                <select id="languageSelect">
                    <option value="fr">üá´üá∑ Fran√ßais</option>
                    <option value="en">üá¨üáß English</option>
                    <option value="es">üá™üá∏ Espa√±ol</option>
                    <option value="de">üá©üá™ Deutsch</option>
                </select>
            </div>
        </div>

        <!-- Navigation -->
        <div class="main-nav">
            <button class="nav-btn active" id="resizerBtn" data-translate="resizer_btn">Redimensionneur d'images</button>
            <button class="nav-btn" id="productsBtn" data-translate="products_btn">Produits recommand√©s</button>
        </div>

        <!-- Resizer Section -->
        <div id="resizerSection">
            <!-- Cards Section -->
            <div class="cards-section">
                <h2 class="section-title" data-translate="steps_title">√âtapes de redimensionnement</h2>
                <div class="cards-container-wrapper">
                    <button class="step-nav prev" id="stepNavPrev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="cards-container" id="cardsContainer">
                        <div class="card active" id="step1Card">
                            <div class="card-icon upload-icon">
                                <i class="fas fa-upload"></i>
                            </div>
                            <h3 data-translate="step1_title">1. T√©l√©chargez votre image</h3>
                            <p data-translate="step1_desc">S√©lectionnez votre image depuis votre appareil</p>
                        </div>
                        <div class="card" id="step2Card">
                            <div class="card-icon dimension-icon">
                                <i class="fas fa-expand-alt"></i>
                            </div>
                            <h3 data-translate="step2_title">2. S√©lectionnez la dimension</h3>
                            <p data-translate="step2_desc">Choisissez le mod√®le de votre TV The Frame Samsung</p>
                        </div>
                        <div class="card" id="step3Card">
                            <div class="card-icon preview-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <h3 data-translate="step3_title">3. V√©rifiez l'aper√ßu</h3>
                            <p data-translate="step3_desc">Contr√¥lez le r√©sultat avant le t√©l√©chargement</p>
                        </div>
                        <div class="card" id="step4Card">
                            <div class="card-icon download-icon">
                                <i class="fas fa-download"></i>
                            </div>
                            <h3 data-translate="step4_title">4. T√©l√©chargez</h3>
                            <p data-translate="step4_desc">R√©cup√©rez votre image parfaitement dimensionn√©e</p>
                        </div>
                    </div>
                    <button class="step-nav next" id="stepNavNext">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <!-- Progress Bar - repositionn√©e entre les √©tapes et le contenu -->
            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                <div class="progress-labels">
                    <span data-translate="step1_label">√âtape 1</span>
                    <span data-translate="step2_label">√âtape 2</span>
                    <span data-translate="step3_label">√âtape 3</span>
                    <span data-translate="step4_label">√âtape 4</span>
                </div>
            </div>

            <!-- Upload Section -->
            <div class="content-section" id="step1Content">
                <h2 class="section-title" data-translate="upload_title">T√©l√©charger votre image</h2>
                
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p data-translate="upload_text">Cliquez pour s√©lectionner votre image</p>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                </div>
                
                <div class="selected-files" id="selectedFiles"></div>
                
                <button id="nextStep1Btn" disabled data-translate="continue_step2">Continuer vers l'√©tape 2</button>
            </div>
            
            <!-- Dimension Selection Section -->
            <div class="content-section section-hidden" id="step2Content">
                <h2 class="section-title" data-translate="dimension_title">S√©lectionnez la dimension de votre TV</h2>
                
                <div class="dimension-options">
                    <div class="dimension-option active" data-width="1920" data-height="1080">
                        <div class="dimension-name">43"</div>
                        <div class="dimension-size">1920 √ó 1080</div>
                    </div>
                    <div class="dimension-option" data-width="3840" data-height="2160">
                        <div class="dimension-name">50"</div>
                        <div class="dimension-size">3840 √ó 2160</div>
                    </div>
                    <div class="dimension-option" data-width="3840" data-height="2160">
                        <div class="dimension-name">55"</div>
                        <div class="dimension-size">3840 √ó 2160</div>
                    </div>
                    <div class="dimension-option" data-width="3840" data-height="2160">
                        <div class="dimension-name">65"</div>
                        <div class="dimension-size">3840 √ó 2160</div>
                    </div>
                    <div class="dimension-option" data-width="3840" data-height="2160">
                        <div class="dimension-name">75"</div>
                        <div class="dimension-size">3840 √ó 2160</div>
                    </div>
                    <div class="dimension-option" id="customOption">
                        <div class="dimension-name" data-translate="custom_dimension">Personnalis√©</div>
                        <div class="dimension-size" data-translate="other_dimension">Autre dimension</div>
                    </div>
                </div>
                
                <div class="custom-dimension" id="customDimension">
                    <h4 data-translate="custom_dimensions">Dimensions personnalis√©es</h4>
                    <div class="custom-inputs">
                        <input type="number" id="customWidth" placeholder="Largeur" min="1" data-translate-placeholder="width_placeholder">
                        <input type="number" id="customHeight" placeholder="Hauteur" min="1" data-translate-placeholder="height_placeholder">
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="prevStep2Btn" data-translate="back_step1">Retour √† l'√©tape 1</button>
                    <button id="nextStep2Btn" data-translate="continue_preview">Continuer vers l'aper√ßu</button>
                </div>
            </div>
            
            <!-- Preview Section -->
            <div class="content-section section-hidden" id="step3Content">
                <h2 class="section-title" data-translate="preview_title">Aper√ßu et t√©l√©chargement</h2>
                
                <div class="preview-container">
                    <canvas id="previewCanvas"></canvas>
                    <p id="placeholderText" data-translate="preview_placeholder">L'image redimensionn√©e appara√Ætra ici</p>
                </div>
                
                <div class="preview-info">
                    <div class="info-item">
                        <span class="info-label" data-translate="original_dimensions">Dimensions originales:</span>
                        <span id="originalDimensions">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label" data-translate="new_dimensions">Nouvelles dimensions:</span>
                        <span id="newDimensions">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label" data-translate="file_size">Taille du fichier:</span>
                        <span id="fileSize">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label" data-translate="file_format">Format:</span>
                        <span id="fileFormat">-</span>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="prevStep3Btn" data-translate="back_dimensions">Retour aux dimensions</button>
                    <button class="download-btn" id="downloadBtn" disabled>
                        <i class="fas fa-download"></i> <span data-translate="download_resized">T√©l√©charger l'image redimensionn√©e</span>
                    </button>
                    <button class="restart-btn" id="restartBtn">
                        <i class="fas fa-redo"></i> <span data-translate="restart">Recommencer</span>
                    </button>
                </div>
                
                <div class="loading" id="loadingIndicator">
                    <div class="spinner"></div>
                    <p data-translate="resizing_in_progress">Redimensionnement en cours...</p>
                </div>
            </div>
        </div>

        <!-- Products Section -->
        <div id="productsSection" class="section-hidden">
            <div class="products-section">
                <h2 class="products-title" data-translate="products_title">Accessoires recommand√©s pour Samsung The Frame</h2>
                <p class="products-subtitle" data-translate="products_subtitle">D√©couvrez notre s√©lection d'accessoires compatibles avec votre TV The Frame</p>
                
                <div class="products-grid" id="productsGrid">
                    <!-- Les produits seront g√©n√©r√©s dynamiquement par JavaScript -->
                </div>
                
                <p class="products-note" data-translate="products_note">
                    Note: Ces liens sont des liens d'affiliation. Si vous effectuez un achat via ces liens, je pourrais recevoir une petite commission sans frais suppl√©mentaires pour vous.
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p data-translate="footer_text">Outil de redimensionnement d'images pour Samsung The Frame - Design inspir√© de Spotify</p>
            <div class="legal-links">
                <a href="#" class="legal-link" id="legalLink" data-translate="legal_link">Mentions l√©gales & RGPD</a>
                <a href="#" class="legal-link" id="privacyLink" data-translate="privacy_link">Politique de confidentialit√©</a>
            </div>
        </div>
    </footer>

    <!-- Modal pour les mentions l√©gales -->
    <div class="modal" id="legalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" data-translate="legal_title">Mentions l√©gales & RGPD</h2>
                <button class="close-modal" id="closeLegalModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h3 data-translate="legal_section1_title">√âditeur du site</h3>
                    <p data-translate="legal_section1_content">Le pr√©sent site est √©dit√© par [Nom de l'entreprise], soci√©t√© [forme juridique] au capital de [montant du capital] ‚Ç¨, immatricul√©e au RCS de [ville] sous le num√©ro [num√©ro RCS], dont le si√®ge social est situ√© [adresse compl√®te].</p>
                </div>
                
                <div class="modal-section">
                    <h3 data-translate="legal_section2_title">Directeur de la publication</h3>
                    <p data-translate="legal_section2_content">Le directeur de la publication est [Nom Pr√©nom], en qualit√© de [fonction].</p>
                </div>
                
                <div class="modal-section">
                    <h3 data-translate="legal_section3_title">H√©bergement</h3>
                    <p data-translate="legal_section3_content">Le site est h√©berg√© par [Nom de l'h√©bergeur], [adresse de l'h√©bergeur].</p>
                </div>
                
                <div class="modal-section">
                    <h3 data-translate="legal_section4_title">Propri√©t√© intellectuelle</h3>
                    <p data-translate="legal_section4_content">L'ensemble des √©l√©ments constituant le site (textes, graphismes, logiciels, photographies, images, vid√©os, sons, plans, logos, marques, etc.) sont la propri√©t√© exclusive de [Nom de l'entreprise] ou de ses partenaires et sont prot√©g√©s par le droit d'auteur, le droit des marques et le droit des dessins et mod√®les.</p>
                </div>
                
                <div class="modal-section">
                    <h3 data-translate="legal_section5_title">Protection des donn√©es personnelles</h3>
                    <p data-translate="legal_section5_content">Conform√©ment au R√®glement G√©n√©ral sur la Protection des Donn√©es (RGPD) et √† la loi Informatique et Libert√©s, vous disposez d'un droit d'acc√®s, de rectification, de suppression et d'opposition aux donn√©es vous concernant.</p>
                </div>
                
                <div class="modal-section">
                    <h3 data-translate="legal_section6_title">Traitement des images</h3>
                    <p data-translate="legal_section6_content">Notre outil de redimensionnement d'images fonctionne enti√®rement dans votre navigateur. Aucune image que vous t√©l√©chargez n'est envoy√©e √† nos serveurs ou stock√©e sur nos syst√®mes. Toutes les op√©rations de traitement d'image sont effectu√©es localement sur votre appareil.</p>
                    <p data-translate="legal_section6_content2">Nous ne collectons, ne stockons ni ne traitons aucune donn√©e personnelle li√©e aux images que vous t√©l√©chargez. Vos images restent enti√®rement sous votre contr√¥le et sont supprim√©es de la m√©moire de votre navigateur lorsque vous quittez la page ou fermez l'onglet.</p>
                </div>
                
                <div class="modal-section">
                    <h3 data-translate="legal_section7_title">Cookies</h3>
                    <p data-translate="legal_section7_content">Ce site utilise des cookies pour am√©liorer votre exp√©rience utilisateur et m√©moriser vos pr√©f√©rences (comme la langue s√©lectionn√©e). Ces cookies sont stock√©s localement sur votre appareil et ne contiennent aucune information personnelle identifiable.</p>
                </div>
                
                <div class="modal-section">
                    <h3 data-translate="legal_section8_title">Contact</h3>
                    <p data-translate="legal_section8_content">Pour toute question relative aux pr√©sentes mentions l√©gales ou √† la protection de vos donn√©es, vous pouvez nous contacter √† l'adresse suivante : [adresse email de contact].</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Syst√®me de traduction
        const translations = {
            fr: {
                // Titres g√©n√©raux
                'app_title': 'Image Resizer pour The Frame',
                'resizer_btn': 'Redimensionneur d\'images',
                'products_btn': 'Produits recommand√©s',
                
                // √âtapes
                'steps_title': '√âtapes de redimensionnement',
                'step1_title': '1. T√©l√©chargez votre image',
                'step1_desc': 'S√©lectionnez votre image depuis votre appareil',
                'step2_title': '2. S√©lectionnez la dimension',
                'step2_desc': 'Choisissez le mod√®le de votre TV The Frame Samsung',
                'step3_title': '3. V√©rifiez l\'aper√ßu',
                'step3_desc': 'Contr√¥lez le r√©sultat avant le t√©l√©chargement',
                'step4_title': '4. T√©l√©chargez',
                'step4_desc': 'R√©cup√©rez votre image parfaitement dimensionn√©e',
                
                // Labels des √©tapes
                'step1_label': '√âtape 1',
                'step2_label': '√âtape 2',
                'step3_label': '√âtape 3',
                'step4_label': '√âtape 4',
                
                // Section upload
                'upload_title': 'T√©l√©charger votre image',
                'upload_text': 'Cliquez pour s√©lectionner votre image',
                'continue_step2': 'Continuer vers l\'√©tape 2',
                
                // Section dimensions
                'dimension_title': 'S√©lectionnez la dimension de votre TV',
                'custom_dimension': 'Personnalis√©',
                'other_dimension': 'Autre dimension',
                'custom_dimensions': 'Dimensions personnalis√©es',
                'width_placeholder': 'Largeur',
                'height_placeholder': 'Hauteur',
                'back_step1': 'Retour √† l\'√©tape 1',
                'continue_preview': 'Continuer vers l\'aper√ßu',
                
                // Section aper√ßu
                'preview_title': 'Aper√ßu et t√©l√©chargement',
                'preview_placeholder': 'L\'image redimensionn√©e appara√Ætra ici',
                'original_dimensions': 'Dimensions originales:',
                'new_dimensions': 'Nouvelles dimensions:',
                'file_size': 'Taille du fichier:',
                'file_format': 'Format:',
                'back_dimensions': 'Retour aux dimensions',
                'download_resized': 'T√©l√©charger l\'image redimensionn√©e',
                'restart': 'Recommencer',
                'resizing_in_progress': 'Redimensionnement en cours...',
                
                // Section produits
                'products_title': 'Accessoires recommand√©s pour Samsung The Frame',
                'products_subtitle': 'D√©couvrez notre s√©lection d\'accessoires compatibles avec votre TV The Frame',
                'products_note': 'Note: Ces liens sont des liens d\'affiliation. Si vous effectuez un achat via ces liens, je pourrais recevoir une petite commission sans frais suppl√©mentaires pour vous.',
                
                // Footer
                'footer_text': 'Outil de redimensionnement d\'images pour Samsung The Frame - Design inspir√© de Spotify',
                'legal_link': 'Mentions l√©gales & RGPD',
                'privacy_link': 'Politique de confidentialit√©',
                
                // Modal mentions l√©gales
                'legal_title': 'Mentions l√©gales & RGPD',
                'legal_section1_title': '√âditeur du site',
                'legal_section1_content': 'Le pr√©sent site est √©dit√© par [Nom de l\'entreprise], soci√©t√© [forme juridique] au capital de [montant du capital] ‚Ç¨, immatricul√©e au RCS de [ville] sous le num√©ro [num√©ro RCS], dont le si√®ge social est situ√© [adresse compl√®te].',
                'legal_section2_title': 'Directeur de la publication',
                'legal_section2_content': 'Le directeur de la publication est [Nom Pr√©nom], en qualit√© de [fonction].',
                'legal_section3_title': 'H√©bergement',
                'legal_section3_content': 'Le site est h√©berg√© par [Nom de l\'h√©bergeur], [adresse de l\'h√©bergeur].',
                'legal_section4_title': 'Propri√©t√© intellectuelle',
                'legal_section4_content': 'L\'ensemble des √©l√©ments constituant le site (textes, graphismes, logiciels, photographies, images, vid√©os, sons, plans, logos, marques, etc.) sont la propri√©t√© exclusive de [Nom de l\'entreprise] ou de ses partenaires et sont prot√©g√©s par le droit d\'auteur, le droit des marques et le droit des dessins et mod√®les.',
                'legal_section5_title': 'Protection des donn√©es personnelles',
                'legal_section5_content': 'Conform√©ment au R√®glement G√©n√©ral sur la Protection des Donn√©es (RGPD) et √† la loi Informatique et Libert√©s, vous disposez d\'un droit d\'acc√®s, de rectification, de suppression et d\'opposition aux donn√©es vous concernant.',
                'legal_section6_title': 'Traitement des images',
                'legal_section6_content': 'Notre outil de redimensionnement d\'images fonctionne enti√®rement dans votre navigateur. Aucune image que vous t√©l√©chargez n\'est envoy√©e √† nos serveurs ou stock√©e sur nos syst√®mes. Toutes les op√©rations de traitement d\'image sont effectu√©es localement sur votre appareil.',
                'legal_section6_content2': 'Nous ne collectons, ne stockons ni ne traitons aucune donn√©e personnelle li√©e aux images que vous t√©l√©chargez. Vos images restent enti√®rement sous votre contr√¥le et sont supprim√©es de la m√©moire de votre navigateur lorsque vous quittez la page ou fermez l\'onglet.',
                'legal_section7_title': 'Cookies',
                'legal_section7_content': 'Ce site utilise des cookies pour am√©liorer votre exp√©rience utilisateur et m√©moriser vos pr√©f√©rences (comme la langue s√©lectionn√©e). Ces cookies sont stock√©s localement sur votre appareil et ne contiennent aucune information personnelle identifiable.',
                'legal_section8_title': 'Contact',
                'legal_section8_content': 'Pour toute question relative aux pr√©sentes mentions l√©gales ou √† la protection de vos donn√©es, vous pouvez nous contacter √† l\'adresse suivante : [adresse email de contact].'
            },
            en: {
                // General titles
                'app_title': 'Image Resizer for The Frame',
                'resizer_btn': 'Image Resizer',
                'products_btn': 'Recommended Products',
                
                // Steps
                'steps_title': 'Resizing Steps',
                'step1_title': '1. Upload your image',
                'step1_desc': 'Select your image from your device',
                'step2_title': '2. Select the dimension',
                'step2_desc': 'Choose your Samsung The Frame TV model',
                'step3_title': '3. Check the preview',
                'step3_desc': 'Check the result before downloading',
                'step4_title': '4. Download',
                'step4_desc': 'Get your perfectly sized image',
                
                // Step labels
                'step1_label': 'Step 1',
                'step2_label': 'Step 2',
                'step3_label': 'Step 3',
                'step4_label': 'Step 4',
                
                // Upload section
                'upload_title': 'Upload your image',
                'upload_text': 'Click to select your image',
                'continue_step2': 'Continue to step 2',
                
                // Dimension section
                'dimension_title': 'Select your TV dimension',
                'custom_dimension': 'Custom',
                'other_dimension': 'Other dimension',
                'custom_dimensions': 'Custom dimensions',
                'width_placeholder': 'Width',
                'height_placeholder': 'Height',
                'back_step1': 'Back to step 1',
                'continue_preview': 'Continue to preview',
                
                // Preview section
                'preview_title': 'Preview and download',
                'preview_placeholder': 'The resized image will appear here',
                'original_dimensions': 'Original dimensions:',
                'new_dimensions': 'New dimensions:',
                'file_size': 'File size:',
                'file_format': 'Format:',
                'back_dimensions': 'Back to dimensions',
                'download_resized': 'Download resized image',
                'restart': 'Start over',
                'resizing_in_progress': 'Resizing in progress...',
                
                // Products section
                'products_title': 'Recommended Accessories for Samsung The Frame',
                'products_subtitle': 'Discover our selection of accessories compatible with your The Frame TV',
                'products_note': 'Note: These are affiliate links. If you make a purchase through these links, I may receive a small commission at no extra cost to you.',
                
                // Footer
                'footer_text': 'Image resizing tool for Samsung The Frame - Design inspired by Spotify',
                'legal_link': 'Legal Notice & GDPR',
                'privacy_link': 'Privacy Policy',
                
                // Modal legal notice
                'legal_title': 'Legal Notice & GDPR',
                'legal_section1_title': 'Site Editor',
                'legal_section1_content': 'This site is published by [Company Name], a [legal form] company with a capital of [capital amount] ‚Ç¨, registered with the RCS of [city] under number [RCS number], whose registered office is located at [full address].',
                'legal_section2_title': 'Publication Director',
                'legal_section2_content': 'The publication director is [First Name Last Name], in his capacity as [position].',
                'legal_section3_title': 'Hosting',
                'legal_section3_content': 'The site is hosted by [Host Name], [host address].',
                'legal_section4_title': 'Intellectual Property',
                'legal_section4_content': 'All elements making up the site (texts, graphics, software, photographs, images, videos, sounds, plans, logos, brands, etc.) are the exclusive property of [Company Name] or its partners and are protected by copyright, trademark law and design law.',
                'legal_section5_title': 'Personal Data Protection',
                'legal_section5_content': 'In accordance with the General Data Protection Regulation (GDPR) and the Data Protection Act, you have the right to access, rectify, delete and object to data concerning you.',
                'legal_section6_title': 'Image Processing',
                'legal_section6_content': 'Our image resizing tool works entirely in your browser. No images you upload are sent to our servers or stored on our systems. All image processing operations are performed locally on your device.',
                'legal_section6_content2': 'We do not collect, store or process any personal data related to the images you upload. Your images remain entirely under your control and are deleted from your browser\'s memory when you leave the page or close the tab.',
                'legal_section7_title': 'Cookies',
                'legal_section7_content': 'This site uses cookies to improve your user experience and remember your preferences (such as the selected language). These cookies are stored locally on your device and do not contain any personally identifiable information.',
                'legal_section8_title': 'Contact',
                'legal_section8_content': 'For any questions regarding these legal notices or the protection of your data, you can contact us at the following address: [contact email address].'
            },
            es: {
                // T√≠tulos generales
                'app_title': 'Redimensionador de Im√°genes para The Frame',
                'resizer_btn': 'Redimensionador de Im√°genes',
                'products_btn': 'Productos Recomendados',
                
                // Pasos
                'steps_title': 'Pasos de Redimensionamiento',
                'step1_title': '1. Sube tu imagen',
                'step1_desc': 'Selecciona tu imagen desde tu dispositivo',
                'step2_title': '2. Selecciona la dimensi√≥n',
                'step2_desc': 'Elige tu modelo de TV Samsung The Frame',
                'step3_title': '3. Verifica la vista previa',
                'step3_desc': 'Controla el resultado antes de descargar',
                'step4_title': '4. Descarga',
                'step4_desc': 'Obt√©n tu imagen perfectamente dimensionada',
                
                // Etiquetas de pasos
                'step1_label': 'Paso 1',
                'step2_label': 'Paso 2',
                'step3_label': 'Paso 3',
                'step4_label': 'Paso 4',
                
                // Secci√≥n de subida
                'upload_title': 'Subir tu imagen',
                'upload_text': 'Haz clic para seleccionar tu imagen',
                'continue_step2': 'Continuar al paso 2',
                
                // Secci√≥n de dimensiones
                'dimension_title': 'Selecciona la dimensi√≥n de tu TV',
                'custom_dimension': 'Personalizado',
                'other_dimension': 'Otra dimensi√≥n',
                'custom_dimensions': 'Dimensiones personalizadas',
                'width_placeholder': 'Ancho',
                'height_placeholder': 'Alto',
                'back_step1': 'Volver al paso 1',
                'continue_preview': 'Continuar a la vista previa',
                
                // Secci√≥n de vista previa
                'preview_title': 'Vista previa y descarga',
                'preview_placeholder': 'La imagen redimensionada aparecer√° aqu√≠',
                'original_dimensions': 'Dimensiones originales:',
                'new_dimensions': 'Nuevas dimensiones:',
                'file_size': 'Tama√±o del archivo:',
                'file_format': 'Formato:',
                'back_dimensions': 'Volver a dimensiones',
                'download_resized': 'Descargar imagen redimensionada',
                'restart': 'Comenzar de nuevo',
                'resizing_in_progress': 'Redimensionando...',
                
                // Secci√≥n de productos
                'products_title': 'Accesorios Recomendados para Samsung The Frame',
                'products_subtitle': 'Descubre nuestra selecci√≥n de accesorios compatibles con tu TV The Frame',
                'products_note': 'Nota: Estos son enlaces de afiliados. Si realizas una compra a trav√©s de estos enlaces, puedo recibir una peque√±a comisi√≥n sin costo adicional para ti.',
                
                // Footer
                'footer_text': 'Herramienta de redimensionamiento de im√°genes para Samsung The Frame - Dise√±o inspirado en Spotify',
                'legal_link': 'Aviso Legal & RGPD',
                'privacy_link': 'Pol√≠tica de Privacidad',
                
                // Modal aviso legal
                'legal_title': 'Aviso Legal & RGPD',
                'legal_section1_title': 'Editor del sitio',
                'legal_section1_content': 'El presente sitio es editado por [Nombre de la empresa], sociedad [forma jur√≠dica] con un capital de [monto del capital] ‚Ç¨, inscrita en el RCS de [ciudad] bajo el n√∫mero [n√∫mero RCS], cuya sede social se encuentra en [direcci√≥n completa].',
                'legal_section2_title': 'Director de publicaci√≥n',
                'legal_section2_content': 'El director de publicaci√≥n es [Nombre Apellido], en calidad de [cargo].',
                'legal_section3_title': 'Alojamiento',
                'legal_section3_content': 'El sitio est√° alojado por [Nombre del alojador], [direcci√≥n del alojador].',
                'legal_section4_title': 'Propiedad intelectual',
                'legal_section4_content': 'Todos los elementos que constituyen el sitio (textos, gr√°ficos, software, fotograf√≠as, im√°genes, videos, sonidos, planos, logotipos, marcas, etc.) son propiedad exclusiva de [Nombre de la empresa] o de sus socios y est√°n protegidos por derechos de autor, derechos de marca y derechos de dise√±o.',
                'legal_section5_title': 'Protecci√≥n de datos personales',
                'legal_section5_content': 'De conformidad con el Reglamento General de Protecci√≥n de Datos (RGPD) y la Ley de Inform√°tica y Libertades, usted tiene derecho a acceder, rectificar, suprimir y oponerse a los datos que le conciernen.',
                'legal_section6_title': 'Procesamiento de im√°genes',
                'legal_section6_content': 'Nuestra herramienta de redimensionamiento de im√°genes funciona completamente en su navegador. Ninguna imagen que cargue se env√≠a a nuestros servidores o se almacena en nuestros sistemas. Todas las operaciones de procesamiento de im√°genes se realizan localmente en su dispositivo.',
                'legal_section6_content2': 'No recopilamos, almacenamos ni procesamos ning√∫n dato personal relacionado con las im√°genes que carga. Sus im√°genes permanecen completamente bajo su control y se eliminan de la memoria de su navegador cuando sale de la p√°gina o cierra la pesta√±a.',
                'legal_section7_title': 'Cookies',
                'legal_section7_content': 'Este sitio utiliza cookies para mejorar su experiencia de usuario y recordar sus preferencias (como el idioma seleccionado). Estas cookies se almacenan localmente en su dispositivo y no contienen informaci√≥n personal identificable.',
                'legal_section8_title': 'Contacto',
                'legal_section8_content': 'Para cualquier pregunta relacionada con este aviso legal o la protecci√≥n de sus datos, puede contactarnos en la siguiente direcci√≥n: [direcci√≥n de correo electr√≥nico de contacto].'
            },
            de: {
                // Allgemeine Titel
                'app_title': 'Bildgr√∂√üen√§nderer f√ºr The Frame',
                'resizer_btn': 'Bildgr√∂√üen√§nderer',
                'products_btn': 'Empfohlene Produkte',
                
                // Schritte
                'steps_title': 'Schritte zur Gr√∂√üen√§nderung',
                'step1_title': '1. Laden Sie Ihr Bild hoch',
                'step1_desc': 'W√§hlen Sie Ihr Bild von Ihrem Ger√§t aus',
                'step2_title': '2. W√§hlen Sie die Dimension',
                'step2_desc': 'W√§hlen Sie Ihr Samsung The Frame TV-Modell',
                'step3_title': '3. √úberpr√ºfen Sie die Vorschau',
                'step3_desc': '√úberpr√ºfen Sie das Ergebnis vor dem Herunterladen',
                'step4_title': '4. Herunterladen',
                'step4_desc': 'Holen Sie sich Ihr perfekt dimensioniertes Bild',
                
                // Schrittbeschriftungen
                'step1_label': 'Schritt 1',
                'step2_label': 'Schritt 2',
                'step3_label': 'Schritt 3',
                'step4_label': 'Schritt 4',
                
                // Upload-Bereich
                'upload_title': 'Laden Sie Ihr Bild hoch',
                'upload_text': 'Klicken Sie, um Ihr Bild auszuw√§hlen',
                'continue_step2': 'Weiter zu Schritt 2',
                
                // Dimensionsbereich
                'dimension_title': 'W√§hlen Sie Ihre TV-Dimension',
                'custom_dimension': 'Benutzerdefiniert',
                'other_dimension': 'Andere Dimension',
                'custom_dimensions': 'Benutzerdefinierte Dimensionen',
                'width_placeholder': 'Breite',
                'height_placeholder': 'H√∂he',
                'back_step1': 'Zur√ºck zu Schritt 1',
                'continue_preview': 'Weiter zur Vorschau',
                
                // Vorschaubereich
                'preview_title': 'Vorschau und Download',
                'preview_placeholder': 'Das angepasste Bild wird hier angezeigt',
                'original_dimensions': 'Originalgr√∂√üe:',
                'new_dimensions': 'Neue Gr√∂√üe:',
                'file_size': 'Dateigr√∂√üe:',
                'file_format': 'Format:',
                'back_dimensions': 'Zur√ºck zu Dimensionen',
                'download_resized': 'Angepasstes Bild herunterladen',
                'restart': 'Neu starten',
                'resizing_in_progress': 'Gr√∂√üen√§nderung l√§uft...',
                
                // Produkte-Bereich
                'products_title': 'Empfohlenes Zubeh√∂r f√ºr Samsung The Frame',
                'products_subtitle': 'Entdecken Sie unsere Auswahl an Zubeh√∂r, das mit Ihrem The Frame TV kompatibel ist',
                'products_note': 'Hinweis: Dies sind Affiliate-Links. Wenn Sie einen Kauf √ºber diese Links t√§tigen, erhalte ich m√∂glicherweise eine kleine Provision ohne zus√§tzliche Kosten f√ºr Sie.',
                
                // Footer
                'footer_text': 'Bildgr√∂√üen√§nderungstool f√ºr Samsung The Frame - Design inspiriert von Spotify',
                'legal_link': 'Impressum & DSGVO',
                'privacy_link': 'Datenschutzrichtlinie',
                
                // Modal Impressum
                'legal_title': 'Impressum & DSGVO',
                'legal_section1_title': 'Herausgeber der Website',
                'legal_section1_content': 'Diese Website wird herausgegeben von [Firmenname], einer [Rechtsform] mit einem Kapital von [Kapitalbetrag] ‚Ç¨, eingetragen im Handelsregister von [Stadt] unter der Nummer [Handelsregisternummer], deren Hauptsitz sich unter [vollst√§ndige Adresse] befindet.',
                'legal_section2_title': 'Verantwortlicher f√ºr die Ver√∂ffentlichung',
                'legal_section2_content': 'Der Verantwortliche f√ºr die Ver√∂ffentlichung ist [Vorname Nachname], in seiner Eigenschaft als [Position].',
                'legal_section3_title': 'Hosting',
                'legal_section3_content': 'Die Website wird gehostet von [Host-Name], [Host-Adresse].',
                'legal_section4_title': 'Geistiges Eigentum',
                'legal_section4_content': 'Alle Elemente, aus denen die Website besteht (Texte, Grafiken, Software, Fotografien, Bilder, Videos, T√∂ne, Pl√§ne, Logos, Marken usw.), sind das ausschlie√üliche Eigentum von [Firmenname] oder seinen Partnern und sind urheberrechtlich, markenrechtlich und durch Designrechte gesch√ºtzt.',
                'legal_section5_title': 'Schutz personenbezogener Daten',
                'legal_section5_content': 'Gem√§√ü der Datenschutz-Grundverordnung (DSGVO) und dem Datenschutzgesetz haben Sie das Recht auf Zugang, Berichtigung, L√∂schung und Widerspruch zu Ihren betreffenden Daten.',
                'legal_section6_title': 'Bildverarbeitung',
                'legal_section6_content': 'Unser Bildgr√∂√üen√§nderungstool arbeitet vollst√§ndig in Ihrem Browser. Keine der von Ihnen hochgeladenen Bilder wird an unsere Server gesendet oder auf unseren Systemen gespeichert. Alle Bildverarbeitungsvorg√§nge werden lokal auf Ihrem Ger√§t durchgef√ºhrt.',
                'legal_section6_content2': 'Wir erfassen, speichern oder verarbeiten keine personenbezogenen Daten in Bezug auf die von Ihnen hochgeladenen Bilder. Ihre Bilder bleiben vollst√§ndig unter Ihrer Kontrolle und werden aus dem Speicher Ihres Browsers gel√∂scht, wenn Sie die Seite verlassen oder den Tab schlie√üen.',
                'legal_section7_title': 'Cookies',
                'legal_section7_content': 'Diese Website verwendet Cookies, um Ihre Benutzererfahrung zu verbessern und Ihre Pr√§ferenzen (wie die ausgew√§hlte Sprache) zu speichern. Diese Cookies werden lokal auf Ihrem Ger√§t gespeichert und enthalten keine pers√∂nlich identifizierbaren Informationen.',
                'legal_section8_title': 'Kontakt',
                'legal_section8_content': 'Bei Fragen zu diesen rechtlichen Hinweisen oder zum Schutz Ihrer Daten k√∂nnen Sie uns unter der folgenden Adresse kontaktieren: [Kontakt-E-Mail-Adresse].'
            }
        };

        // Donn√©es des produits
        const products = [
            {
                id: 1,
                name: "Support mural sans fil Samsung",
                category: "Support",
                description: "Support mural officiel Samsung pour une installation √©l√©gante et sans fil de votre TV The Frame.",
                price: "‚Ç¨89,99",
                image: "https://images.samsung.com/is/image/samsung/p5/fr/tvs/the-frame/accessories/wm45b-wall-mount-kit.png",
                link: "https://www.amazon.fr/dp/B08C1Y7W5H"
            },
            {
                id: 2,
                name: "Cadres d√©coratifs interchangeables",
                category: "Cadres",
                description: "Collection de cadres color√©s pour personnaliser l'apparence de votre TV The Frame selon votre d√©coration.",
                price: "√Ä partir de ‚Ç¨99",
                image: "https://images.samsung.com/is/image/samsung/p5/fr/tvs/the-frame/accessories/bezel-studio-gray.png",
                link: "https://www.amazon.fr/dp/B08C1ZQ6L7"
            },
            {
                id: 3,
                name: "C√¢ble One Connect invisible 5m",
                category: "C√¢bles",
                description: "C√¢ble de connexion longueur 5m pour relier votre TV The Frame au bo√Ætier One Connect sans encombrement visible.",
                price: "‚Ç¨129,99",
                image: "https://images.samsung.com/is/image/samsung/p5/fr/tvs/the-frame/accessories/one-connect-cable-5m.png",
                link: "https://www.amazon.fr/dp/B08C1ZQ6L8"
            },
            {
                id: 4,
                name: "Kit de nettoyage √©cran premium",
                category: "Entretien",
                description: "Kit sp√©cialement con√ßu pour nettoyer en toute s√©curit√© l'√©cran de votre TV The Frame sans laisser de traces.",
                price: "‚Ç¨24,99",
                image: "https://m.media-amazon.com/images/I/71K8Fg+L7SL._AC_SL1500_.jpg",
                link: "https://www.amazon.fr/dp/B08C1ZQ6L9"
            },
            {
                id: 5,
                name: "Support pivotant universel",
                category: "Support",
                description: "Support mural pivotant permettant d'ajuster l'angle de vision de votre TV The Frame selon vos besoins.",
                price: "‚Ç¨59,99",
                image: "https://m.media-amazon.com/images/I/71z9Vf8Jw2L._AC_SL1500_.jpg",
                link: "https://www.amazon.fr/dp/B08C1ZQ6M0"
            },
            {
                id: 6,
                name: "Barre de son Samsung HW-Q600A",
                category: "Audio",
                description: "Barre de son compatible avec votre TV The Frame pour une exp√©rience audio immersive et de qualit√©.",
                price: "‚Ç¨399,99",
                image: "https://images.samsung.com/is/image/samsung/p5/fr/audio/hw-q600a-za-front-black-01.png",
                link: "https://www.amazon.fr/dp/B08C1ZQ6M1"
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // R√©f√©rences aux √©l√©ments DOM
            const fileInput = document.getElementById('fileInput');
            const uploadArea = document.getElementById('uploadArea');
            const selectedFilesContainer = document.getElementById('selectedFiles');
            const dimensionOptions = document.querySelectorAll('.dimension-option');
            const customDimension = document.getElementById('customDimension');
            const customWidth = document.getElementById('customWidth');
            const customHeight = document.getElementById('customHeight');
            const previewCanvas = document.getElementById('previewCanvas');
            const ctx = previewCanvas.getContext('2d');
            const placeholderText = document.getElementById('placeholderText');
            const downloadBtn = document.getElementById('downloadBtn');
            const originalDimensions = document.getElementById('originalDimensions');
            const newDimensions = document.getElementById('newDimensions');
            const fileSize = document.getElementById('fileSize');
            const fileFormat = document.getElementById('fileFormat');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const progressBar = document.getElementById('progressBar');
            const productsGrid = document.getElementById('productsGrid');
            
            // Boutons de navigation
            const nextStep1Btn = document.getElementById('nextStep1Btn');
            const prevStep2Btn = document.getElementById('prevStep2Btn');
            const nextStep2Btn = document.getElementById('nextStep2Btn');
            const prevStep3Btn = document.getElementById('prevStep3Btn');
            const restartBtn = document.getElementById('restartBtn');
            
            // Navigation des √©tapes
            const stepNavPrev = document.getElementById('stepNavPrev');
            const stepNavNext = document.getElementById('stepNavNext');
            const cardsContainer = document.getElementById('cardsContainer');
            
            // Sections de contenu
            const step1Content = document.getElementById('step1Content');
            const step2Content = document.getElementById('step2Content');
            const step3Content = document.getElementById('step3Content');
            
            // Cartes d'√©tapes
            const step1Card = document.getElementById('step1Card');
            const step2Card = document.getElementById('step2Card');
            const step3Card = document.getElementById('step3Card');
            const step4Card = document.getElementById('step4Card');
            
            // Navigation principale
            const resizerBtn = document.getElementById('resizerBtn');
            const productsBtn = document.getElementById('productsBtn');
            const resizerSection = document.getElementById('resizerSection');
            const productsSection = document.getElementById('productsSection');
            
            // S√©lecteur de langue
            const languageSelect = document.getElementById('languageSelect');
            
            // Modal
            const legalModal = document.getElementById('legalModal');
            const legalLink = document.getElementById('legalLink');
            const privacyLink = document.getElementById('privacyLink');
            const closeLegalModal = document.getElementById('closeLegalModal');
            
            let selectedFile = null;
            let originalImage = null;
            let resizedImage = null;
            let targetWidth = 1920;
            let targetHeight = 1080;
            let currentStep = 1;
            let currentLanguage = 'fr';
            
            // Fonction pour g√©n√©rer les produits
            function generateProducts() {
                productsGrid.innerHTML = '';
                
                products.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.src='https://via.placeholder.com/300x200/282828/FFFFFF?text=Image+Non+Disponible'">
                        <div class="product-content">
                            <div class="product-category">${product.category}</div>
                            <h3 class="product-name">${product.name}</h3>
                            <p class="product-description">${product.description}</p>
                            <div class="product-price">${product.price}</div>
                            <a href="${product.link}" class="product-link" target="_blank" data-translate="view_product">Voir le produit</a>
                        </div>
                    `;
                    productsGrid.appendChild(productCard);
                });
            }
            
            // Fonction de traduction
            function translatePage(lang) {
                currentLanguage = lang;
                
                // Mettre √† jour tous les √©l√©ments avec data-translate
                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[lang] && translations[lang][key]) {
                        element.textContent = translations[lang][key];
                    }
                });
                
                // Mettre √† jour les placeholders
                document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
                    const key = element.getAttribute('data-translate-placeholder');
                    if (translations[lang] && translations[lang][key]) {
                        element.placeholder = translations[lang][key];
                    }
                });
                
                // Mettre √† jour les textes dans les boutons avec des ic√¥nes
                const downloadBtnText = document.querySelector('#downloadBtn span');
                if (downloadBtnText && translations[lang] && translations[lang]['download_resized']) {
                    downloadBtnText.textContent = translations[lang]['download_resized'];
                }
                
                const restartBtnText = document.querySelector('#restartBtn span');
                if (restartBtnText && translations[lang] && translations[lang]['restart']) {
                    restartBtnText.textContent = translations[lang]['restart'];
                }
                
                // Mettre √† jour le s√©lecteur de langue
                languageSelect.value = lang;
                
                // Sauvegarder la langue dans le localStorage
                localStorage.setItem('language', lang);
            }
            
            // Fonctions pour g√©rer le modal
            function openLegalModal() {
                legalModal.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Emp√™cher le d√©filement
            }
            
            function closeLegalModalFunc() {
                legalModal.style.display = 'none';
                document.body.style.overflow = 'auto'; // R√©tablir le d√©filement
            }
            
            // Mettre √† jour la barre de progression
            function updateProgressBar() {
                const progress = (currentStep / 4) * 100;
                progressBar.style.width = `${progress}%`;
            }
            
            // Navigation entre les √©tapes
            function goToStep(step) {
                // Masquer toutes les sections
                step1Content.classList.add('section-hidden');
                step2Content.classList.add('section-hidden');
                step3Content.classList.add('section-hidden');
                
                // D√©sactiver toutes les cartes
                step1Card.classList.remove('active', 'completed');
                step2Card.classList.remove('active', 'completed');
                step3Card.classList.remove('active', 'completed');
                step4Card.classList.remove('active', 'completed');
                
                // Afficher la section correspondante et activer la carte
                if (step === 1) {
                    step1Content.classList.remove('section-hidden');
                    step1Card.classList.add('active');
                    currentStep = 1;
                } else if (step === 2) {
                    step2Content.classList.remove('section-hidden');
                    step1Card.classList.add('completed');
                    step2Card.classList.add('active');
                    currentStep = 2;
                } else if (step === 3) {
                    step3Content.classList.remove('section-hidden');
                    step1Card.classList.add('completed');
                    step2Card.classList.add('completed');
                    step3Card.classList.add('active');
                    currentStep = 3;
                    
                    // Redimensionner l'image quand on arrive √† l'√©tape 3
                    resizeImage();
                }
                
                updateProgressBar();
            }
            
            // √âv√©nements de navigation
            nextStep1Btn.addEventListener('click', () => goToStep(2));
            prevStep2Btn.addEventListener('click', () => goToStep(1));
            nextStep2Btn.addEventListener('click', () => goToStep(3));
            prevStep3Btn.addEventListener('click', () => goToStep(2));
            restartBtn.addEventListener('click', () => {
                // R√©initialiser l'application
                selectedFile = null;
                originalImage = null;
                resizedImage = null;
                selectedFilesContainer.innerHTML = '';
                uploadArea.innerHTML = `
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p data-translate="upload_text">Cliquez pour s√©lectionner votre image</p>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                `;
                // Retraduire le texte de l'upload area
                const uploadText = uploadArea.querySelector('p');
                if (uploadText && translations[currentLanguage] && translations[currentLanguage]['upload_text']) {
                    uploadText.textContent = translations[currentLanguage]['upload_text'];
                }
                
                nextStep1Btn.disabled = true;
                downloadBtn.disabled = true;
                placeholderText.style.display = 'block';
                goToStep(1);
            });
            
            // Navigation des √©tapes avec les fl√®ches
            stepNavPrev.addEventListener('click', () => {
                cardsContainer.scrollBy({
                    left: -250,
                    behavior: 'smooth'
                });
            });
            
            stepNavNext.addEventListener('click', () => {
                cardsContainer.scrollBy({
                    left: 250,
                    behavior: 'smooth'
                });
            });
            
            // Navigation principale
            resizerBtn.addEventListener('click', () => {
                resizerBtn.classList.add('active');
                productsBtn.classList.remove('active');
                resizerSection.classList.remove('section-hidden');
                productsSection.classList.add('section-hidden');
            });
            
            productsBtn.addEventListener('click', () => {
                productsBtn.classList.add('active');
                resizerBtn.classList.remove('active');
                productsSection.classList.remove('section-hidden');
                resizerSection.classList.add('section-hidden');
            });
            
            // Gestion du modal
            legalLink.addEventListener('click', function(e) {
                e.preventDefault();
                openLegalModal();
            });
            
            privacyLink.addEventListener('click', function(e) {
                e.preventDefault();
                openLegalModal();
            });
            
            closeLegalModal.addEventListener('click', closeLegalModalFunc);
            
            // Fermer le modal en cliquant en dehors
            window.addEventListener('click', function(e) {
                if (e.target === legalModal) {
                    closeLegalModalFunc();
                }
            });
            
            // Gestion du glisser-d√©poser et du clic pour t√©l√©charger
            uploadArea.addEventListener('click', () => fileInput.click());
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = 'var(--spotify-green)';
                uploadArea.style.backgroundColor = 'rgba(29, 185, 84, 0.05)';
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.style.borderColor = 'var(--spotify-dark-gray)';
                uploadArea.style.backgroundColor = '';
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = 'var(--spotify-dark-gray)';
                uploadArea.style.backgroundColor = '';
                
                if (e.dataTransfer.files.length) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });
            
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length) {
                    handleFile(e.target.files[0]);
                }
            });
            
            // Gestion de la s√©lection des dimensions
            dimensionOptions.forEach(option => {
                option.addEventListener('click', function() {
                    dimensionOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    if (this.id === 'customOption') {
                        customDimension.style.display = 'block';
                        targetWidth = parseInt(customWidth.value) || 1920;
                        targetHeight = parseInt(customHeight.value) || 1080;
                    } else {
                        customDimension.style.display = 'none';
                        targetWidth = parseInt(this.dataset.width);
                        targetHeight = parseInt(this.dataset.height);
                    }
                    
                    // Mettre √† jour les nouvelles dimensions affich√©es
                    newDimensions.textContent = `${targetWidth} √ó ${targetHeight}`;
                });
            });
            
            // Mise √† jour des dimensions personnalis√©es
            customWidth.addEventListener('input', function() {
                targetWidth = parseInt(this.value) || 1920;
                newDimensions.textContent = `${targetWidth} √ó ${targetHeight}`;
            });
            
            customHeight.addEventListener('input', function() {
                targetHeight = parseInt(this.value) || 1080;
                newDimensions.textContent = `${targetWidth} √ó ${targetHeight}`;
            });
            
            // Fonction pour g√©rer le fichier s√©lectionn√©
            function handleFile(file) {
                if (!file.type.match('image.*')) {
                    alert('Veuillez s√©lectionner un fichier image.');
                    return;
                }
                
                selectedFile = file;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    originalImage = new Image();
                    originalImage.onload = function() {
                        originalDimensions.textContent = `${originalImage.width} √ó ${originalImage.height}`;
                        fileSize.textContent = formatFileSize(file.size);
                        fileFormat.textContent = file.type.split('/')[1].toUpperCase();
                    };
                    originalImage.src = e.target.result;
                };
                reader.readAsDataURL(file);
                
                updateSelectedFilesList();
                
                // Activer le bouton pour passer √† l'√©tape suivante
                nextStep1Btn.disabled = false;
            }
            
            // Mettre √† jour la liste des fichiers s√©lectionn√©s
            function updateSelectedFilesList() {
                selectedFilesContainer.innerHTML = '';
                
                if (!selectedFile) {
                    uploadArea.innerHTML = `
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p data-translate="upload_text">Cliquez pour s√©lectionner votre image</p>
                        <input type="file" id="fileInput" accept="image/*" style="display: none;">
                    `;
                    // Retraduire le texte de l'upload area
                    const uploadText = uploadArea.querySelector('p');
                    if (uploadText && translations[currentLanguage] && translations[currentLanguage]['upload_text']) {
                        uploadText.textContent = translations[currentLanguage]['upload_text'];
                    }
                    return;
                }
                
                const fileSelectedText = translations[currentLanguage] && translations[currentLanguage]['upload_text'] 
                    ? translations[currentLanguage]['upload_text'] 
                    : 'Fichier s√©lectionn√©';
                    
                const clickToChangeText = translations[currentLanguage] && translations[currentLanguage]['upload_text'] 
                    ? 'Cliquez pour changer'
                    : 'Click to change';
                
                uploadArea.innerHTML = `
                    <i class="fas fa-check-circle"></i>
                    <p>${fileSelectedText}: ${selectedFile.name}</p>
                    <p style="font-size: 0.8rem; margin-top: 10px; color: var(--spotify-green);">${clickToChangeText}</p>
                `;
                
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-info">
                        <i class="fas fa-image file-icon"></i>
                        <span class="file-name">${selectedFile.name}</span>
                    </div>
                    <button class="remove-file" id="removeFileBtn">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                selectedFilesContainer.appendChild(fileItem);
                
                // Ajouter l'√©v√©nement de suppression
                document.getElementById('removeFileBtn').addEventListener('click', function() {
                    selectedFile = null;
                    originalImage = null;
                    updateSelectedFilesList();
                    nextStep1Btn.disabled = true;
                    placeholderText.style.display = 'block';
                });
            }
            
            // Fonction pour dessiner une image en conservant le ratio (sans rogner)
            function drawImageProp(ctx, img, x, y, w, h, offsetX, offsetY) {
                if (arguments.length === 2) {
                    x = y = 0;
                    w = ctx.canvas.width;
                    h = ctx.canvas.height;
                }
                
                // default offset is center
                offsetX = typeof offsetX === "number" ? offsetX : 0.5;
                offsetY = typeof offsetY === "number" ? offsetY : 0.5;
                
                // keep bounds [0.0, 1.0]
                if (offsetX < 0) offsetX = 0;
                if (offsetY < 0) offsetY = 0;
                if (offsetX > 1) offsetX = 1;
                if (offsetY > 1) offsetY = 1;
                
                var iw = img.width,
                    ih = img.height,
                    r = Math.min(w / iw, h / ih),
                    nw = iw * r,   // new prop. width
                    nh = ih * r,   // new prop. height
                    cx, cy, cw, ch, ar = 1;
                
                // decide which gap to fill    
                if (nw < w) ar = w / nw;                             
                if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh;  // updated
                nw *= ar;
                nh *= ar;
                
                // calc source rectangle
                cw = iw / (nw / w);
                ch = ih / (nh / h);
                
                cx = (iw - cw) * offsetX;
                cy = (ih - ch) * offsetY;
                
                // make sure source rectangle is valid
                if (cx < 0) cx = 0;
                if (cy < 0) cy = 0;
                if (cw > iw) cw = iw;
                if (ch > ih) ch = ih;
                
                // fill image in dest. rectangle
                ctx.drawImage(img, cx, cy, cw, ch,  x, y, w, h);
            }
            
            // Fonction de redimensionnement
            function resizeImage() {
                if (!originalImage) return;
                
                loadingIndicator.style.display = 'block';
                
                // Simuler un temps de traitement
                setTimeout(() => {
                    // Cr√©er un canvas pour l'image finale
                    const canvas = document.createElement('canvas');
                    canvas.width = targetWidth;
                    canvas.height = targetHeight;
                    const ctx = canvas.getContext('2d');
                    
                    // Remplir le fond avec une couleur noire (pour les bandes si n√©cessaire)
                    ctx.fillStyle = 'black';
                    ctx.fillRect(0, 0, targetWidth, targetHeight);
                    
                    // Dessiner l'image redimensionn√©e en conservant le ratio
                    drawImageProp(ctx, originalImage, 0, 0, targetWidth, targetHeight);
                    
                    resizedImage = canvas;
                    
                    // Afficher l'aper√ßu
                    showPreview();
                    
                    // Activer le bouton de t√©l√©chargement
                    downloadBtn.disabled = false;
                    loadingIndicator.style.display = 'none';
                    
                    // Marquer l'√©tape 3 comme termin√©e
                    step3Card.classList.add('completed');
                    step4Card.classList.add('active');
                    currentStep = 4;
                    updateProgressBar();
                }, 1000);
            }
            
            // Afficher l'aper√ßu
            function showPreview() {
                if (!resizedImage) return;
                
                // D√©finir la taille du canvas pour l'aper√ßu
                previewCanvas.width = Math.min(targetWidth, 500);
                previewCanvas.height = Math.min(targetHeight, 300);
                
                // Redessiner l'image en conservant le ratio (sans rogner)
                ctx.clearRect(0, 0, previewCanvas.width, previewCanvas.height);
                drawImageProp(ctx, resizedImage, 0, 0, previewCanvas.width, previewCanvas.height);
                
                // Mettre √† jour les informations
                newDimensions.textContent = `${targetWidth} √ó ${targetHeight}`;
                
                placeholderText.style.display = 'none';
            }
            
            // Gestion du t√©l√©chargement
            downloadBtn.addEventListener('click', function() {
                if (!resizedImage) return;
                
                resizedImage.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `theframe_${targetWidth}x${targetHeight}_${selectedFile.name}`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 'image/jpeg', 0.95);
            });
            
            // Fonction utilitaire pour formater la taille du fichier
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            // Gestion du changement de langue
            languageSelect.addEventListener('change', function() {
                const selectedLanguage = this.value;
                translatePage(selectedLanguage);
                
                // Mettre √† jour les textes dynamiques
                if (selectedFile) {
                    updateSelectedFilesList();
                }
            });
            
            // Initialiser la langue depuis le localStorage ou utiliser le fran√ßais par d√©faut
            const savedLanguage = localStorage.getItem('language') || 'fr';
            languageSelect.value = savedLanguage;
            translatePage(savedLanguage);
            
            // G√©n√©rer les produits
            generateProducts();
            
            // Initialiser la barre de progression
            updateProgressBar();
        });
    </script>
</body>
</html>
